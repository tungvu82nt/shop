import{j as s}from"./ui-vendor-S1POobSh.js";import{L as b}from"./react-vendor-DrHQLvTy.js";import{c as v,G as w,b as n,g as c,B as p,x as u,d as C,K as m,S as l}from"./index-B_z83aGI.js";import{O as _,W as S}from"./WishlistButton-DcIgUw2y.js";import{M as k}from"./map-pin-Cx6R8BJE.js";const E=({product:e,variant:P="default",showWishlist:o=!0,showAddToCart:x=!1,className:h,onClick:r})=>{const d=()=>{r&&r(e)},f=t=>{t.preventDefault(),t.stopPropagation(),n.trackEcommerce("add_to_cart",{currency:"VND",value:e.price,items:[{item_id:e.id.toString(),item_name:e.name,item_category:e.category,item_brand:e.brand,price:e.price,quantity:1}]}),console.log("Add to cart:",e.id)},g=t=>{const i=[],j=Math.floor(t),y=t%1!==0;for(let a=0;a<j;a++)i.push(s.jsx(l,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},a));y&&i.push(s.jsx(l,{className:"h-3 w-3 fill-yellow-400/50 text-yellow-400"},"half"));const N=5-Math.ceil(t);for(let a=0;a<N;a++)i.push(s.jsx(l,{className:"h-3 w-3 text-gray-300"},`empty-${a}`));return i};return s.jsx(v,{className:w("group cursor-pointer hover:shadow-lg transition-all duration-200 overflow-hidden",h),onClick:d,children:s.jsxs(b,{to:`/product/${e.id}`,className:"block",onClick:()=>{n.trackEcommerce("view_item",{currency:"VND",value:e.price,items:[{item_id:e.id.toString(),item_name:e.name,item_category:e.category,item_brand:e.brand,price:e.price,quantity:1}]})},children:[s.jsxs("div",{className:"relative aspect-square",children:[s.jsx(_,{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",category:e.category}),s.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.discount&&s.jsxs(c,{className:"bg-red-500 text-white text-xs",children:["-",e.discount,"%"]}),e.isFeatured&&s.jsx(c,{className:"bg-yellow-500 text-white text-xs",children:"Hot"})]}),o&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(S,{product:e,iconOnly:!0,size:"sm"})}),x&&s.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(p,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:f,children:s.jsx(u,{className:"h-4 w-4"})})})]}),s.jsxs(C,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex items-center",children:g(e.rating||0)}),s.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["(",e.reviewCount||0,")"]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-lg font-bold text-red-600",children:m(e.price)}),e.originalPrice&&s.jsx("span",{className:"text-sm text-gray-500 line-through",children:m(e.originalPrice)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(k,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate",children:e.location})]}),s.jsxs("span",{children:["Đã bán ",e.soldCount]})]})]})]})})};export{E as P};
//# sourceMappingURL=ProductCard-DGlgknfq.js.map
