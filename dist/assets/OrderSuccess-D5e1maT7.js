import{j as s}from"./ui-vendor-S1POobSh.js";import{u as N,k as y,r as p}from"./react-vendor-DrHQLvTy.js";import{c as t,i as c,j as l,P as f,d as r,g as j,a as v,K as a,q as b,B as g,t as C}from"./index-B_z83aGI.js";import{C as w}from"./circle-check-big-DJfGvp7v.js";import{M as P}from"./map-pin-Cx6R8BJE.js";import{T}from"./truck-BPY7BSqw.js";import{C as M}from"./credit-card-DMGlkA9B.js";import{L as k}from"./loader-circle-C6mRpfx8.js";import"./chart-vendor-Bfyd95vO.js";import"./supabase-vendor-C-7U-qZP.js";import"./form-vendor-CeA2iSy3.js";const A=({orderData:e})=>{const i=N(),d=()=>{i("/")},m=()=>{i(`/orders/${e.orderId}`)};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(w,{className:"h-16 w-16 text-green-500"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Đặt hàng thành công!"}),s.jsx("p",{className:"text-gray-600",children:"Cảm ơn bạn đã mua sắm tại Yapee Vietnam. Đơn hàng của bạn đang được xử lý."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(t,{children:[s.jsx(c,{children:s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-5 w-5"}),"Thông tin đơn hàng"]})}),s.jsx(r,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Mã đơn hàng"}),s.jsx("p",{className:"font-medium",children:e.orderId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ngày đặt hàng"}),s.jsx("p",{className:"font-medium",children:e.orderDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Trạng thái"}),s.jsxs(j,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[s.jsx(v,{className:"h-3 w-3 mr-1"}),e.status]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Số lượng sản phẩm"}),s.jsxs("p",{className:"font-medium",children:[e.items.length," sản phẩm"]})]})]})})]}),s.jsxs(t,{children:[s.jsx(c,{children:s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-5 w-5"}),"Địa chỉ giao hàng"]})}),s.jsx(r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-medium",children:[e.shippingAddress.name," | ",e.shippingAddress.phone]}),s.jsxs("p",{className:"text-gray-600",children:[e.shippingAddress.address,", ",e.shippingAddress.ward,",",e.shippingAddress.district,", ",e.shippingAddress.province]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(t,{children:[s.jsx(c,{children:s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(T,{className:"h-5 w-5"}),"Vận chuyển"]})}),s.jsx(r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:e.shippingMethod.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.shippingMethod.estimatedTime}),s.jsx("p",{className:"text-sm font-medium",children:a(e.shippingFee)})]})})]}),s.jsxs(t,{children:[s.jsx(c,{children:s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(M,{className:"h-5 w-5"}),"Thanh toán"]})}),s.jsx(r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:e.paymentMethod.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.paymentMethod.description}),e.paymentMethod.discount&&s.jsxs(j,{variant:"secondary",className:"bg-green-100 text-green-800",children:["Giảm ",e.paymentMethod.discount,"%"]})]})})]})]}),s.jsxs(t,{children:[s.jsx(c,{children:s.jsx(l,{children:"Sản phẩm đã đặt"})}),s.jsx(r,{children:s.jsx("div",{className:"space-y-4",children:e.items.map((n,h)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[s.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:n.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Số lượng: ",n.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:a(n.price*n.quantity)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a(n.price),"/sản phẩm"]})]})]},h))})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(t,{className:"sticky top-6",children:[s.jsx(c,{children:s.jsx(l,{children:"Tóm tắt thanh toán"})}),s.jsxs(r,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tạm tính"}),s.jsx("span",{children:a(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Phí vận chuyển"}),s.jsx("span",{children:a(e.shippingFee)})]}),e.discount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Mã giảm giá"}),s.jsxs("span",{children:["-",a(e.discount)]})]}),e.paymentDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Giảm giá thanh toán"}),s.jsxs("span",{children:["-",a(e.paymentDiscount)]})]}),s.jsx(b,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Tổng cộng"}),s.jsx("span",{className:"text-blue-600",children:a(e.total)})]})]}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsx(g,{onClick:m,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Xem chi tiết đơn hàng"}),s.jsx(g,{variant:"outline",onClick:d,className:"w-full",children:"Tiếp tục mua sắm"})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.jsx("strong",{children:"Cần hỗ trợ?"})}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Liên hệ: 1900-1234",s.jsx("br",{}),"Email: support@yapee.vn"]})]})]})]})})]})]})},Q=()=>{const[e]=y(),i=N(),{clearCart:d}=C(),[m,n]=p.useState(null),[h,u]=p.useState(!0);return p.useEffect(()=>{const o=e.get("orderId");if(!o){i("/");return}(async()=>{try{const x={orderId:o,orderDate:new Date().toLocaleDateString("vi-VN"),status:"Đang xử lý",items:[{id:"1",name:"iPhone 15 Pro Max 256GB",image:"https://picsum.photos/300/300?random=1",price:2999e4,quantity:1},{id:"2",name:"AirPods Pro (2nd generation)",image:"https://picsum.photos/300/300?random=1",price:649e4,quantity:1}],shippingAddress:{name:"Nguyễn Văn A",phone:"0123456789",address:"123 Đường ABC",ward:"Phường XYZ",district:"Quận 1",province:"TP. Hồ Chí Minh"},shippingMethod:{name:"Giao hàng nhanh",estimatedTime:"1-2 ngày làm việc",fee:3e4},paymentMethod:{name:"VNPay",description:"Thanh toán qua ví điện tử VNPay",discount:2},subtotal:3648e4,shippingFee:3e4,discount:0,paymentDiscount:729600,total:35780400};n(x),d()}catch(x){console.error("Error fetching order data:",x),i("/")}finally{u(!1)}})()},[e,i,d]),h?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(k,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Đang tải thông tin đơn hàng..."})]})}):m?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx(A,{orderData:m})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Không tìm thấy thông tin đơn hàng"}),s.jsx("button",{onClick:()=>i("/"),className:"text-blue-600 hover:underline",children:"Quay về trang chủ"})]})})};export{Q as default};
//# sourceMappingURL=OrderSuccess-D5e1maT7.js.map
