import{j as e}from"./ui-vendor-S1POobSh.js";import{r as f}from"./react-vendor-DrHQLvTy.js";import{u as B,H as y,F as _,c as r,d as c,A as I,e as M,f as L,M as U,g as V,U as K,P as C,h as w,i as d,j as m,k as x,B as a,l as t,I as o,m as T}from"./index-B_z83aGI.js";import{T as Q,a as G,b as j,c as g}from"./tabs-zB0Irzh6.js";import{S as P}from"./shield-CnI5vR7_.js";import{M as k}from"./map-pin-Cx6R8BJE.js";import"./chart-vendor-Bfyd95vO.js";import"./supabase-vendor-C-7U-qZP.js";import"./form-vendor-CeA2iSy3.js";const $=()=>{var N,v;const{user:n,userProfile:s,updateProfile:F}=B(),[l,u]=f.useState(!1),[i,p]=f.useState({full_name:"",phone:"",date_of_birth:"",gender:""});f.useEffect(()=>{s&&p({full_name:s.full_name||"",phone:s.phone||"",date_of_birth:s.date_of_birth||"",gender:s.gender||""})},[s]);const h=b=>{const{name:E,value:D}=b.target;p(H=>({...H,[E]:D}))},S=async()=>{try{await F(i),u(!1),T.success("Cập nhật thông tin thành công!")}catch{T.error("Có lỗi xảy ra khi cập nhật thông tin")}},A=()=>{s&&p({full_name:s.full_name||"",phone:s.phone||"",date_of_birth:s.date_of_birth||"",gender:s.gender||""}),u(!1)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(r,{className:"mb-6",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(I,{className:"h-20 w-20",children:[e.jsx(M,{src:(s==null?void 0:s.avatar_url)||""}),e.jsx(L,{className:"text-lg",children:((N=s==null?void 0:s.full_name)==null?void 0:N.charAt(0))||((v=n.email)==null?void 0:v.charAt(0))||"U"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold",children:(s==null?void 0:s.full_name)||"Người dùng"}),e.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),n.email]}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsxs(V,{variant:"secondary",className:"flex items-center",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Tài khoản đã xác thực"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Tham gia: ",new Date(n.created_at||"").toLocaleDateString("vi-VN")]})]})]})]})})}),e.jsxs(Q,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(G,{className:"grid w-full grid-cols-4",children:[e.jsxs(j,{value:"profile",className:"flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Thông tin cá nhân"]}),e.jsxs(j,{value:"orders",className:"flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Đơn hàng"]}),e.jsxs(j,{value:"wishlist",className:"flex items-center",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Yêu thích"]}),e.jsxs(j,{value:"addresses",className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Địa chỉ"]})]}),e.jsx(g,{value:"profile",children:e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Thông tin cá nhân"}),e.jsx(x,{children:"Quản lý thông tin cá nhân của bạn"})]}),l?e.jsxs("div",{className:"space-x-2",children:[e.jsx(a,{variant:"outline",onClick:A,children:"Hủy"}),e.jsx(a,{onClick:S,children:"Lưu"})]}):e.jsx(a,{onClick:()=>u(!0),children:"Chỉnh sửa"})]})}),e.jsx(c,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"full_name",children:"Họ và tên"}),e.jsx(o,{id:"full_name",name:"full_name",value:i.full_name,onChange:h,disabled:!l,placeholder:"Nhập họ và tên"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",value:n.email||"",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Số điện thoại"}),e.jsx(o,{id:"phone",name:"phone",value:i.phone,onChange:h,disabled:!l,placeholder:"Nhập số điện thoại"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_of_birth",children:"Ngày sinh"}),e.jsx(o,{id:"date_of_birth",name:"date_of_birth",type:"date",value:i.date_of_birth,onChange:h,disabled:!l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"gender",children:"Giới tính"}),e.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:h,disabled:!l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Chọn giới tính"}),e.jsx("option",{value:"male",children:"Nam"}),e.jsx("option",{value:"female",children:"Nữ"}),e.jsx("option",{value:"other",children:"Khác"})]})]})]})})]})}),e.jsx(g,{value:"orders",children:e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Đơn hàng của tôi"}),e.jsx(x,{children:"Theo dõi tình trạng đơn hàng"})]}),e.jsx(c,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Bạn chưa có đơn hàng nào"}),e.jsx(a,{className:"mt-4",children:"Mua sắm ngay"})]})})]})}),e.jsx(g,{value:"wishlist",children:e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Sản phẩm yêu thích"}),e.jsx(x,{children:"Danh sách sản phẩm bạn đã lưu"})]}),e.jsx(c,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(w,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chưa có sản phẩm yêu thích"}),e.jsx(a,{className:"mt-4",children:"Khám phá sản phẩm"})]})})]})}),e.jsx(g,{value:"addresses",children:e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Địa chỉ giao hàng"}),e.jsx(x,{children:"Quản lý địa chỉ giao hàng của bạn"})]}),e.jsx(a,{children:"Thêm địa chỉ mới"})]})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chưa có địa chỉ giao hàng"}),e.jsx(a,{className:"mt-4",children:"Thêm địa chỉ"})]})})]})})]})]})}),e.jsx(_,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Vui lòng đăng nhập"}),e.jsx("p",{className:"text-gray-600",children:"Bạn cần đăng nhập để xem trang này."})]})}),e.jsx(_,{})]})};export{$ as default};
//# sourceMappingURL=Profile-CN8YeM6y.js.map
